# 08.02 Работа с Playbook
## 1-4
    ansible-playbook -i inventory/prod.yml  site.yml

    PLAY [Install Java and elasticsearch] ******************************************************************************************************************

    TASK [install java] ************************************************************************************************************************************
    ok: [debian]

    PLAY [Install Elasticsearch] ***************************************************************************************************************************

    TASK [Gathering Facts] *********************************************************************************************************************************
    ok: [debian]

    TASK [Upload tar.gz Elasticsearch from remote URL] *****************************************************************************************************
    ok: [debian]

    TASK [Create directrory for Elasticsearch] *************************************************************************************************************
    ok: [debian]

    TASK [Extract Elasticsearch in the installation directory] *********************************************************************************************
    skipping: [debian]

    TASK [Set environment Elastic] *************************************************************************************************************************
    ok: [debian]

    PLAY [Install Kibana] **********************************************************************************************************************************

    TASK [Gathering Facts] *********************************************************************************************************************************
    ok: [debian]

    TASK [dowland kibana] **********************************************************************************************************************************
    ok: [debian]

    TASK [Create directory from kibana] ********************************************************************************************************************
    ok: [debian]

    TASK [Coppy to files bin] ******************************************************************************************************************************
    skipping: [debian]

    TASK [set environment kibana] **************************************************************************************************************************
    changed: [debian]

    PLAY RECAP *********************************************************************************************************************************************
    debian                     : ok=9    changed=1    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   

## 5.

    ansible-lint site.yml

    [403] Package installs should not use latest
    site.yml:7
    Task/Handler: install java

    [201] Trailing whitespace
    site.yml:47
    

    [201] Trailing whitespace
    site.yml:77
        template: 

    [201] Trailing whitespace
    site.yml:80
        tags: kibana 
## 6-7
[site.yml](./playbook/site.yml)</br>
Добавил условия проверки файлов в папке tmp


    ansible-playbook -i inventory/prod.yml  site.yml --diff

    PLAY [Install Java and elasticsearch] ******************************************************************************************************************

    TASK [install java] ************************************************************************************************************************************
    ok: [debian]

    PLAY [Install Elasticsearch] ***************************************************************************************************************************

    TASK [Gathering Facts] *********************************************************************************************************************************
    ok: [debian]

    TASK [check filesystem existence] **********************************************************************************************************************
    changed: [debian]

    TASK [Upload tar.gz Elasticsearch from remote URL] *****************************************************************************************************
    skipping: [debian]

    TASK [Create directrory for Elasticsearch] *************************************************************************************************************
    ok: [debian]

    TASK [Extract Elasticsearch in the installation directory] *********************************************************************************************
    skipping: [debian]

    TASK [Set environment Elastic] *************************************************************************************************************************
    ok: [debian]

    PLAY [Install Kibana] **********************************************************************************************************************************

    TASK [Gathering Facts] *********************************************************************************************************************************
    ok: [debian]

    TASK [check filesystem existence] **********************************************************************************************************************
    changed: [debian]

    TASK [dowland kibana] **********************************************************************************************************************************
    skipping: [debian]

    TASK [Create directory from kibana] ********************************************************************************************************************
    ok: [debian]

    TASK [Coppy to files bin] ******************************************************************************************************************************
    skipping: [debian]

    TASK [set environment kibana] **************************************************************************************************************************
    ok: [debian]

    PLAY RECAP *********************************************************************************************************************************************
    debian                     : ok=9    changed=2    unreachable=0    failed=0    skipped=4    rescued=0    ignored=0   